/*!
onlySlider 0.2.0-dev (2013-12-01)
http://go.byjoby.net/onlySlider
License: MIT

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
*/
function onlySlider(a,b){if(this.setDefaults({preload_forward:0,preload_backward:0,loop:!0,timer:5e3,fixedHeight:!1}),this.setOptions(b),this.obj=a,this.obj.setAttribute("class","onlySlider"),this.slides=[],1==this.obj.children.length&&"NOSCRIPT"==this.obj.children[0].tagName){var c=document.createElement("DIV");c.innerHTML=this.obj.children[0].textContent||this.obj.children[0].innerHTML}else var c=this.obj;for(var d=0;d<c.children.length;d++){var e=this.extractSlide(c.children[d]);e&&this.slides.push(e)}this.obj.innerHTML="",this.contentContainer=document.createElement("DIV"),this.contentContainer.setAttribute("class","onlySlider-contentContainer");var f=this;this.obj.appendChild(this.contentContainer);for(var d=0;d<this.slides.length;d++)this.contentContainer.appendChild(this.slides[d].node);this.loadingMessage=document.createElement("DIV"),this.loadingMessage.setAttribute("class","onlySlider-loadingMessage onlySlider-loadingMessage-active"),this.obj.appendChild(this.loadingMessage),this.dotControls=document.createElement("DIV"),this.dotControls.setAttribute("class","onlySlider-dotControls"),this.obj.appendChild(this.dotControls),this.arrowControls=document.createElement("DIV"),this.arrowControls.setAttribute("class","onlySlider-arrowControls"),this.obj.appendChild(this.arrowControls);var g="onlySlider-arrowControl";this.arrowControls.prevArrow=document.createElement("A"),this.arrowControls.prevArrow.innerHTML="previous",this.arrowControls.prevArrow.setAttribute("class",g+" "+g+"-previous "+g+"-disabled"),this.arrowControls.appendChild(this.arrowControls.prevArrow),this.arrowControls.nextArrow=document.createElement("A"),this.arrowControls.nextArrow.innerHTML="next",this.arrowControls.nextArrow.setAttribute("class",g+" "+g+"-next "+g+"-disabled"),this.arrowControls.appendChild(this.arrowControls.nextArrow),this.addEvent(this.arrowControls.prevArrow,"click",function(){f.setSlide(f.prevSlide(f.currentSlide))}),this.addEvent(this.arrowControls.nextArrow,"click",function(){f.setSlide(f.nextSlide(f.currentSlide))}),this.timer=!1,this.currentSlide=-1,this.setSlide(0)}onlySlider.prototype.startTimer=function(){if(this.options.timer>0){this.timer&&this.stopTimer();var a=this;this.timer=setTimeout(function(){a.stopTimer(),a.setSlide(a.nextSlide(a.currentSlide))},this.options.timer)}},onlySlider.prototype.stopTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=!1)},onlySlider.prototype.extractSlide=function(a){if("NOSCRIPT"==a.tagName)var b=a.textContent||a.innerHTML;else var b=a.outerHTML||(new XMLSerializer).serializeToString(node);return!b||/^<\!--.*-->$/.test(b)?!1:{node:document.createElement("DIV"),html:b}},onlySlider.prototype.render=function(){for(var a=0;a<this.slides.length;a++)if(this.slides[a].node){var b="onlySlider-slide",c=[b];a==this.currentSlide?c.push(b+"-current"):(0==a&&-1==this.currentSlide?c.push(b+"-next "+b+"-first"):a==this.prevSlide(this.currentSlide)?c.push(b+"-prev"):a==this.nextSlide(this.currentSlide)&&c.push(b+"-next"),a>this.currentSlide&&c.push(b+"-after "+b+"-after-by-"+(a-this.currentSlide)),a<this.currentSlide&&c.push(b+"-before "+b+"-before-by-"+(this.currentSlide-a))),this.slides[a].node.setAttribute("class",c.join(" "))}var d="onlySlider-arrowControl",e=this.nextSlide(this.currentSlide);-1==e?this.arrowControls.nextArrow.setAttribute("class",""+d+" "+d+"-next "+d+"-disabled"):this.arrowControls.nextArrow.setAttribute("class",""+d+" "+d+"-next");var f=this.prevSlide(this.currentSlide);-1==f?this.arrowControls.prevArrow.setAttribute("class",""+d+" "+d+"-previous "+d+"-disabled"):this.arrowControls.prevArrow.setAttribute("class",""+d+" "+d+"-previous"),this.dotControls.innerHTML="";for(var a=0;a<this.slides.length;a++){var g=document.createElement("A");g.setAttribute("data-slideID",a),g.innerHTML=a+1;var h="onlySlider-dot",i=[h];a==this.currentSlide?i.push(h+"-current"):0==a&&-1==this.currentSlide?i.push(h+"-next "+h+"-first"):a>this.currentSlide?i.push(h+"-after "+h+"-after-by-"+(a-this.currentSlide)):a<this.currentSlide&&i.push(h+"-before "+h+"-before-by-"+(this.currentSlide-a)),g.setAttribute("class",i.join(" "));var j=this;this.addEvent(g,"click",function(a){this.getAttribute?j.setSlide(this.getAttribute("data-slideID")):j.setSlide(a.srcElement.getAttribute("data-slideID"))}),this.dotControls.appendChild(g)}},onlySlider.prototype.setSlide=function(a){a>=0&&(this.render(),this.displaySlide(a),this.preloadAround(a))},onlySlider.prototype.displaySlide=function(a){this.preloadSlide(a);var b="onlySlider-loadingMessage",c=this.slides[a],d=this,e=function(){c.loaded?(clearInterval(f),d.loadingMessage.setAttribute("class",b),d.obj.style.height=d.options.fixedHeight?d.options.fixedHeight+"px":c.node.offsetHeight+"px",d.currentSlide=a,d.render(),d.startTimer()):d.loadingMessage.setAttribute("class",b+" "+b+"-active")},f=setInterval(function(){e()},50);e()},onlySlider.prototype.preloadSlide=function(a){var b=this.slides[a];if(!b.loaded&&!b.loading){b.node.innerHTML=b.html,b.loading=!0;var c=[];if(c=c.concat(this.getElementsByTagName(b.node,"IMG")),c=c.concat(this.getElementsByTagName(b.node,"SCRIPT")),c=c.concat(this.getElementsByTagName(b.node,"IFRAME")),c=c.concat(this.getElementsByTagName(b.node,"LINK")),c=c.concat(this.getElementsByTagName(b.node,"SCRIPT")),c=c.concat(this.getElementsByTagName(b.node,"STYLE")),b.preloadables=c,b.preloadables.length>0){b.preloadsRemaining=b.preloadables.length;for(var d=0;d<b.preloadables.length;d++)b.preloadables[d].complete?b.preloadsRemaining--:this.addEvent(b.preloadables[d],"load",function(){b.preloadsRemaining--});b.preloadWatcher=setInterval(function(){b.preloadsRemaining<=0&&(b.loaded=!0,clearInterval(b.preloadWatcher))},50)}else b.loaded=!0}},onlySlider.prototype.getElementsByTagName=function(a,b){var c=a.getElementsByTagName(b);if(!c)return[];for(var d=[],e=0;e<c.length;e++)d.push(c[e]);return d},onlySlider.prototype.preloadAround=function(a){for(var b=a,c=0;c<this.options.preload_forward;c++)b=this.nextSlide(b),-1!=b&&this.preloadSlide(b);for(var b=a,c=0;c<this.options.preload_backward;c++)b=this.prevSlide(b),-1!=b&&this.preloadSlide(b)},onlySlider.prototype.nextSlide=function(a){var b=this.options.loop;return a++,a>=this.slides.length&&(a=b?0:-1),a},onlySlider.prototype.prevSlide=function(a){var b=this.options.loop;return a--,0>a&&(a=b?this.slides.length-1:-1),a},onlySlider.prototype.addEvent=function(a,b,c){return a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)},onlySlider.prototype.setOptions=function(a){if(this.options=this.options?this.options:{},"object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.options[b]=a[b])},onlySlider.prototype.setDefaults=function(a){if(this.options=this.options?this.options:{},"object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&void 0===this.options[b]&&(this.options[b]=a[b])},onlySlider.prototype.debounce=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};